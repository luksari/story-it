<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools"
        xmlns:app="http://schemas.android.com/apk/res-auto">
    <data>
        <variable name="viewModel" type="mvvm.coding.story_it.ui.preferences.PreferencesViewModel"/>
    </data>
    <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            tools:context=".ui.preferences.PreferencesFragment"
    android:padding="20dp">

       <androidx.constraintlayout.widget.ConstraintLayout
               android:id="@+id/player_add_container"
               app:layout_constraintTop_toTopOf="parent"
               android:layout_width="match_parent"
               app:layout_constraintVertical_weight="3"
               android:layout_height="0dp"
               app:layout_constraintBottom_toTopOf="@id/preferences_labels_container"
               app:layout_constraintLeft_toLeftOf="parent"
               app:layout_constraintRight_toRightOf="parent"
       >
           <TextView
                   android:id="@+id/players_textview"
                   android:layout_width="0dp"
                   android:layout_height="wrap_content"
                   app:layout_constraintTop_toTopOf="parent"
                   app:layout_constraintLeft_toLeftOf="parent"
                   app:layout_constraintRight_toLeftOf="@id/playerName"
                   android:text="Players" app:layout_constraintHorizontal_chainStyle="spread_inside"/>
           <EditText
                   android:id="@+id/playerName"
                   android:layout_width="0dp"
                   app:layout_constraintRight_toRightOf="parent"
                   android:layout_height="0dp"
                   app:layout_constraintLeft_toRightOf="@id/players_textview"
                   app:layout_constraintTop_toTopOf="parent"
                   android:hint="Your name..."
                   playerName="@{viewModel.playerName}"
                   android:text="@={viewModel.playerName}"
                   app:layout_constraintBottom_toTopOf="@id/new_player_btn"
                   android:inputType="text"/>

           <androidx.recyclerview.widget.RecyclerView
                   android:id="@+id/players_scrollview"
                   android:layout_width="0dp"
                   app:layout_constraintBottom_toBottomOf="parent"
                   android:layout_height="0dp"
                   app:layout_constraintLeft_toLeftOf="parent"
                   app:layout_constraintRight_toLeftOf="@id/new_player_btn"
                   app:layout_constraintTop_toBottomOf="@id/players_textview"
                   app:setAdapter="@{viewModel.getAdapter()}"
           />
           <Button
                   android:id="@+id/new_player_btn"
                   android:layout_width="wrap_content"
                   android:layout_height="0dp"
                   android:text="+"
                    android:background="@color/colorPrimary"
                   app:layout_constraintLeft_toRightOf="@id/players_scrollview"
                   app:layout_constraintRight_toRightOf="@id/remove_player_btn"
                   app:layout_constraintTop_toBottomOf="@id/playerName"
                   android:onClick="@{()->viewModel.addPlayer()}"
/>

           <Button
                   android:id="@+id/remove_player_btn"
                   android:layout_width="wrap_content"
                   android:layout_height="0dp"
                   android:text="-"
                   android:layout_marginStart="5dp"
                   android:background="@android:color/holo_red_dark"
                   app:layout_constraintLeft_toRightOf="@id/new_player_btn"
                   app:layout_constraintRight_toRightOf="parent"
                   app:layout_constraintTop_toBottomOf="@id/playerName"/>
       </androidx.constraintlayout.widget.ConstraintLayout>

        <androidx.constraintlayout.widget.ConstraintLayout
                android:id="@+id/preferences_labels_container"
                app:layout_constraintTop_toBottomOf="@id/player_add_container"
                android:layout_width="match_parent"
                android:layout_height="0dp"
                app:layout_constraintRight_toRightOf="parent"
                app:layout_constraintBottom_toTopOf="@id/back_btn"
                app:layout_constraintLeft_toLeftOf="parent"
                app:layout_constraintVertical_weight="1"
                android:maxHeight="100dp">

            <TextView
                    android:id="@+id/textView1"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    app:layout_constraintLeft_toLeftOf="parent"
                    app:layout_constraintTop_toTopOf="parent"
                    app:layout_constraintRight_toLeftOf="@id/textView2"
                    android:textAlignment="center"
                    app:layout_constraintHorizontal_weight="1"
                    app:layout_constraintTop_toBottomOf="parent"
                    android:text="Number of rounds: "
            android:labelFor="@id/roundNumber"/>

            <TextView
                    android:id="@+id/textView2"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    app:layout_constraintHorizontal_weight="1"
                    android:textAlignment="center"
                    app:layout_constraintTop_toTopOf="parent"
                    android:scrollHorizontally="false"
                    app:layout_constraintBottom_toTopOf="@id/checkRandom"
                    android:text="Random order: "
                    android:labelFor="@id/checkRandom"
                    app:layout_constraintLeft_toRightOf="@id/textView1"/>
            <TextView
                    android:id="@+id/textView3"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:scrollHorizontally="false"
                    app:layout_constraintLeft_toRightOf="@id/textView2"
                    app:layout_constraintRight_toLeftOf="@id/textView4"
                    android:textAlignment="center"
                    android:labelFor="@id/charactersNumber"
                    android:text="Number of characters: "
                    app:layout_constraintTop_toTopOf="parent"/>
            <TextView
                    android:id="@+id/textView4"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    app:layout_constraintRight_toRightOf="parent"
                    android:textAlignment="center"
                    app:layout_constraintTop_toTopOf="parent"
                    android:scrollHorizontally="false"
                    android:labelFor="@id/wordsNumber"
                    app:layout_constraintLeft_toRightOf="@id/textView3"
                    android:text="Number of words shown: "/>
            <EditText
                    android:id="@+id/roundNumber"
                    android:layout_width="0dp"
                    android:layout_height="0dp"
                    app:layout_constraintTop_toBottomOf="@id/textView1"
                    app:layout_constraintLeft_toLeftOf="parent"
                    app:layout_constraintBottom_toBottomOf="parent"
                    android:inputType="number"
                    roundNumberValidator="@{viewModel.numberOfRounds}"
                    android:text="@={``+viewModel.numberOfRounds}"
                    app:layout_constraintRight_toLeftOf="@id/checkRandom"
                    android:labelFor="@id/textView2"
            />
            <CheckBox
                    android:id="@+id/checkRandom"
                    android:layout_width="0dp"
                    app:layout_constraintTop_toBottomOf="@id/textView2"
                    android:layout_height="0dp"
                    android:checked="@={viewModel.isRandomOrder()}"
                    app:layout_constraintRight_toLeftOf="@id/charactersNumber"
                    app:layout_constraintLeft_toRightOf="@id/roundNumber"
                    app:layout_constraintBottom_toBottomOf="parent"
     />
            <EditText
                    android:id="@+id/charactersNumber"
                    android:layout_width="0dp"
                    android:layout_height="0dp"
                    app:layout_constraintRight_toLeftOf="@id/wordsNumber"
                    app:layout_constraintLeft_toRightOf="@id/checkRandom"
                    android:inputType="number"
                    charsNumberValidator="@{viewModel.numberOfCharacters}"
                    android:text="@={``+viewModel.numberOfCharacters}"
                    app:layout_constraintTop_toBottomOf="@id/textView3"
                    app:layout_constraintBottom_toBottomOf="parent"
            />
            <EditText
                    android:id="@+id/wordsNumber"
                    android:layout_width="0dp"
                    android:layout_height="0dp"
                    app:layout_constraintLeft_toRightOf="@id/charactersNumber"
                    app:layout_constraintTop_toBottomOf="@id/textView4"
                    wordsNumberValidator="@{viewModel.numberOfWords}"
                    android:text="@={``+viewModel.numberOfWords}"
                    android:inputType="number"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintRight_toRightOf="parent"
            />
        </androidx.constraintlayout.widget.ConstraintLayout>

        <Button
                android:layout_width="0dp"
                android:padding="10dp"
                android:layout_height="wrap_content"
                android:text="Back"
                android:id="@+id/back_btn"
                app:layout_constraintRight_toLeftOf="@id/clear_preferences_btn"
                app:layout_constraintLeft_toLeftOf="parent"
                app:layout_constraintTop_toBottomOf="@id/preferences_labels_container"
                app:layout_constraintBottom_toBottomOf="parent"
        />
        <Button
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:text="Clear"
                android:padding="10dp"
                android:id="@+id/clear_preferences_btn"
                app:layout_constraintLeft_toRightOf="@id/back_btn"
                app:layout_constraintRight_toRightOf="@id/start_game_btn"
                app:layout_constraintTop_toBottomOf="@id/preferences_labels_container"
                app:layout_constraintBottom_toBottomOf="parent"
                android:layout_marginStart="25dp"
                android:onClick="@{()-> viewModel.clearPreferences()}"
        />

        <Button
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:text="Start Game"
                android:padding="10dp"
                android:enabled="@{viewModel.isPossibleToStartGame()}"
                android:id="@+id/start_game_btn"
                app:layout_constraintLeft_toRightOf="@id/clear_preferences_btn"
                app:layout_constraintRight_toRightOf="parent"
                app:layout_constraintTop_toBottomOf="@id/preferences_labels_container"
                app:layout_constraintBottom_toBottomOf="parent"
                android:layout_marginStart="25dp"
                android:onClick="@{() -> viewModel.addGame()}"
        />
    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>